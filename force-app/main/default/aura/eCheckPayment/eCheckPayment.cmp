<aura:component controller="CommunityPayment_GatewayController" implements="forceCommunity:availableForAllPageTypes" access="global" >
    <aura:attribute name="flag" type="Boolean" default="false"/>
    <aura:attribute name="errorMsg" type="String"/>
    <aura:attribute name="transId" type="String"/>
    <aura:attribute name="transIdflag" type="Boolean" default="false"/>
    <aura:attribute name="errorFlag" type="Boolean" default="false"/>
  
    
    <div class="main">
        <div class="subData">           
            <img src="{!$Resource.Payment + '/PaymentGateway/auth.png'}"  class="imgClass"/><br/>
            <lightning:input type="text" aura:id="cardId" label="Card Number" placeholder="5324 **** **** XXXX" 
                             required="true" maxlength="16" minlength="13"
                             messageWhenPatternMismatch="Invalid Card Format" pattern="[0-9]*"/><br/>            
            <lightning:select aura:id="month" label="Expire Month" required="true">
                <option value="">-Month-</option>
                <option value="01">Jan</option>
                <option value="02">Feb</option>
                <option value="03">Mar</option>
                <option value="04">April</option>
                <option value="05">May</option>
                <option value="06">Jun</option>
                <option value="07">Jul</option>
                <option value="08">Aug</option>
                <option value="09">Sept</option>
                <option value="10">Oct</option>
                <option value="11">Nov</option>
                <option value="12">Dec</option>
            </lightning:select><br/>
            
            <lightning:select aura:id="year" label="Expire Year" required="true" >
                <option value="">-Year-</option>
                <option value="19">2019</option>
                <option value="20">2020</option>
                <option value="21">2021</option>
                <option value="22">2022</option>
                <option value="23">2023</option>
            </lightning:select><br/>
            <lightning:input type="text" pattern="[0-9]*" aura:id="cvv" label="CVV Number" 
                             placeholder="Enter cvv number" title="Please Numeric Value Input"
                             maxlength="4" minlength="3"
                             /><br/>
            <div class="placeClass">
                <lightning:button variant="success" label="Place Order" onclick="{!c.placeOrderHandler }" /><br/><br/>
                To Pay Using ECheck  <a  onclick="{!c.echeckHandler}" style="width:100%;" >Click here</a>
                
            </div>
        </div>
    </div>
    
    
    <aura:if isTrue="{!v.flag}">
        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
            <div class="slds-modal__container">
                <header class="slds-modal__header">
                    <lightning:buttonIcon iconName="utility:close"
                                          onclick="{! c.closeModel }"
                                          alternativeText="close"
                                          variant="bare-inverse"
                                          class="slds-modal__close"/>
                    
                    <h2 id="modal-heading-01" class="slds-modal__title slds-hyphenate">BriskMinds Software Solution</h2>
                </header>
                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                    <aura:if isTrue="{!v.errorFlag}">
                        <div style="color:red; text-align: center;">
                            <img src="{!$Resource.ErrorIcon + '/error/err1.png'}" width="30" height="30"/>
                            {!v.errorMsg}
                        </div>
                    </aura:if>
                    <aura:if isTrue="{!v.transIdflag}">
                        <div style="color:green; text-align: center;">
                            <img src="{!$Resource.ErrorIcon + '/error/succ.png'}" width="30" height="30"/> <br/>
                            {!v.errorMsg} <br/> 
                            Your transaction Id is =  {!v.transId}
                        </div>
                    </aura:if>
                </div>
            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
    </aura:if>
    
</aura:component>